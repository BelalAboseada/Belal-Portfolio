# ğŸ—ï¸ Bassant Elqenawy Educational Platform - Project Structure & Reference Guide

## ğŸš¨ MANDATORY ARCHITECTURAL RULES

> [!IMPORTANT]
> These rules are non-negotiable to maintain code quality and architectural integrity.

1.  **Server State MUST use React Query**
    - **Never** store API data in Redux, Zustand, or Context.
    - All data fetching, caching, and synchronization is handled by React Query custom hooks (e.g., `useCoursesQuery`, `useLoginMutation`).
    - API functions (in `api/` folders) should **never** be called directly by components. They are implementation details for React Query hooks.

2.  **Redux is STRICTLY for Client State**
    - Use Redux **only** for global client-side state (e.g., Auth tokens, User session, Theme).
    - Do not pollute the Redux store with server response data.

3.  **Strict Feature Isolation**
    - Features should be self-contained.
    - New features **must** include a `queries` folder if they fetch data.
    - Imports should be strict: do not reach deep into other features' internal helper functions. Use the public exports from `index.ts`.

4.  **No "Loose" API Calls**
    - All API interactions must flow through: `Component` -> `Custom Query Hook` -> `API Function` -> `Http Client`.
    - No direct `axios` or `fetch` calls in components.

---

**Last Updated:** 2026-01-03  
**Version:** 2.0

This comprehensive guide provides architectural insights, folder structure documentation, and development guidelines for the Bassant Elqenawy Educational Platform. Use this as a reference when building new features or understanding the existing codebase.

---

## ğŸ“‹ Table of Contents

1. [Architecture Overview](#architecture-overview)
2. [Client-Side Architecture](#client-side-architecture)
3. [Technology Stack](#technology-stack)
4. [Detailed Folder Structure](#detailed-folder-structure)
5. [Feature Modules](#feature-modules)
6. [Routing Architecture](#routing-architecture)
7. [State Management](#state-management)
8. [API Integration Patterns](#api-integration-patterns)
9. [Development Guidelines](#development-guidelines)

---

## ğŸ¯ Architecture Overview

The Bassant Elqenawy Educational Platform is a **multi-tenant** web application built with a **feature-based architecture** and **app-based routing**. It supports two distinct user roles:

- **Student App**: Learning management, course access, subscription management
- **Admin App**: User management, content administration, analytics

### Key Architectural Principles

1. **Feature-Based Organization**: Domain logic grouped by business features (Auth, Courses, Grades, etc.)
2. **App Isolation**: Separate entry points for Student and Admin applications
3. **Component Reusability**: Shared UI components across applications
4. **Type Safety**: Full TypeScript implementation throughout the stack
5. **Scalability**: Modular structure supporting easy feature additions

---

## ğŸ’» Client-Side Architecture

### Framework & Build Tools

- **Framework**: React 18.2 with TypeScript
- **Build Tool**: Vite 5.0
- **Routing**: React Router DOM v6
- **Styling**: Tailwind CSS with custom design system

### Architecture Pattern

```
Multi-App Architecture
â”œâ”€â”€ Student Application (Public + Authenticated Routes)
â”œâ”€â”€ Admin Application (Authenticated Only)
â””â”€â”€ Shared Components & Features
```

---

## ğŸ› ï¸ Technology Stack

### Core Dependencies

| Category | Technology | Version | Purpose |
|----------|-----------|---------|---------|
| **Framework** | React | 18.2.0 | UI library |
| **Language** | TypeScript | 5.2.2 | Type safety |
| **State Management** | Redux Toolkit | 2.11.2 | Global state |
| | Zustand | 4.4.7 | Lightweight state |
| **Routing** | React Router DOM | 6.21.3 | Client-side routing |
| **HTTP Client** | Axios | 1.13.2 | API communication |
| **Internationalization** | i18next | 25.7.3 | Multi-language support |
| | react-i18next | 16.5.0 | React i18n bindings |
| **UI Components** | Radix UI | Various | Accessible primitives |
| | Lucide React | 0.344.0 | Icon library |
| **Animations** | Framer Motion | 12.23.26 | UI animations |
| **Styling** | Tailwind CSS | 3.4.0 | Utility-first CSS |
| **Notifications** | React Hot Toast | 2.6.0 | Toast notifications |

### Development Tools

- **Linting**: ESLint with React plugins
- **Build**: Vite with TypeScript compilation
- **CSS Processing**: PostCSS + Autoprefixer

---

## ğŸ“‚ Detailed Folder Structure

### Root Structure

```
client/
â”œâ”€â”€ src/                      # Source code
â”‚   â”œâ”€â”€ app/                  # Application infrastructure (guards, shared utils)
â”‚   â”œâ”€â”€ apps/                 # Application modules (Student, Admin)
â”‚   â”œâ”€â”€ features/             # Feature modules (domain logic)
â”‚   â”œâ”€â”€ components/           # Shared UI components
â”‚   â”œâ”€â”€ lib/                  # Core utilities & services
â”‚   â”œâ”€â”€ store/                # Global Redux store
â”‚   â”œâ”€â”€ hooks/                # Global custom hooks
â”‚   â”œâ”€â”€ locales/              # i18n translation files
â”‚   â”œâ”€â”€ styles/               # Global styles
â”‚   â””â”€â”€ assets/               # Static assets
â”œâ”€â”€ public/                   # Public static files
â”œâ”€â”€ PROJECT_STRUCTURE.md      # This documentation
â”œâ”€â”€ package.json              # Dependencies
â””â”€â”€ vite.config.ts            # Vite configuration
```

### Understanding `/app` vs `/apps`

> **Important Distinction:** The project has TWO similarly-named folders with different purposes

#### `/src/app/` (Singular) - **Application Infrastructure**

**Purpose:** Shared application infrastructure and utilities

```
app/
â””â”€â”€ guards/                   # Route guards (authentication/authorization)
    â”œâ”€â”€ StudentAuthGuard.tsx  # Protects student routes
    â”œâ”€â”€ AdminAuthGuard.tsx    # Protects admin routes
    â””â”€â”€ SubscriptionGuard.tsx # Checks subscription status
```

**Think of it as:** The "plumbing" - shared infrastructure used by all applications

---

#### `/src/apps/` (Plural) - **Application Modules**

**Purpose:** Individual, self-contained applications

```
apps/
â”œâ”€â”€ student/                  # Student application
â”‚   â”œâ”€â”€ StudentApp.tsx        # Entry point
â”‚   â”œâ”€â”€ studentRouter.tsx     # Routes configuration
â”‚   â”œâ”€â”€ pages/                # Student pages
â”‚   â”œâ”€â”€ layouts/              # Student layouts
â”‚   â””â”€â”€ components/           # Student-specific components
â”‚
â””â”€â”€ admin/                    # Admin application
    â”œâ”€â”€ AdminApp.tsx          # Entry point
    â”œâ”€â”€ adminRouter.tsx       # Routes configuration
    â”œâ”€â”€ pages/                # Admin pages
    â”œâ”€â”€ layouts/              # Admin layouts
    â””â”€â”€ components/           # Admin-specific components
```

**Think of it as:** The "features" - actual application implementations

---

#### How They Work Together

```mermaid
graph TD
    A[App.tsx] -->|/admin/*| B[AdminApp]
    A -->|/* other paths| C[StudentApp]
    B --> D[adminRouter.tsx]
    C --> E[studentRouter.tsx]
    D --> F[Uses AdminAuthGuard from /app/guards]
    E --> G[Uses StudentAuthGuard from /app/guards]
```

**Routing Flow:**
1. `App.tsx` checks the URL path
2. Routes to `AdminApp` for `/admin/*` paths
3. Routes to `StudentApp` for all other paths
4. Each app uses its own router (`adminRouter.tsx` or `studentRouter.tsx`)
5. Routers use guards from `/app/guards/` to protect routes

---

## ğŸ¢ Apps Directory (`/src/apps/`)

### Student Application (`/apps/student/`)

**Entry Point**: `StudentApp.tsx`  
**Router**: `studentRouter.tsx`

```
student/
â”œâ”€â”€ StudentApp.tsx            # Student app root component
â”œâ”€â”€ studentRouter.tsx         # Student routes configuration
â”œâ”€â”€ components/               # Student-specific components
â”œâ”€â”€ layouts/                  # Student layouts
â”‚   â”œâ”€â”€ PublicLayout.tsx      # For landing/auth pages
â”‚   â””â”€â”€ StudentLayout.tsx     # For authenticated student pages
â””â”€â”€ pages/                    # Student page components
    â”œâ”€â”€ Auth/                 # Authentication pages
    â”‚   â”œâ”€â”€ Login.tsx
    â”‚   â”œâ”€â”€ Register.tsx
    â”‚   â”œâ”€â”€ VerifyOtp.tsx
    â”‚   â”œâ”€â”€ ForgotPassword.tsx
    â”‚   â””â”€â”€ ResetPassword.tsx
    â”œâ”€â”€ landing/              # Landing page
    â”‚   â””â”€â”€ LandingPage.tsx
    â”œâ”€â”€ dashboard/            # Student dashboard
    â”‚   â””â”€â”€ Dashboard.tsx
    â”œâ”€â”€ Profile/              # User profile management
    â”‚   â””â”€â”€ Profile.tsx
    â”œâ”€â”€ Grades/               # Grade selection/browsing
    â”‚   â””â”€â”€ index.tsx
    â”œâ”€â”€ LessonsList/          # Course lessons listing
    â”‚   â””â”€â”€ index.tsx
    â”œâ”€â”€ Lessons/              # Lesson viewer & saved lessons
    â”‚   â”œâ”€â”€ Lesson.tsx
    â”‚   â””â”€â”€ SavedLessons.tsx
    â”œâ”€â”€ Subscription/         # Subscription management
    â”‚   â”œâ”€â”€ Subscribe.tsx
    â”‚   â””â”€â”€ WaitingConfirmation.tsx
    â””â”€â”€ NotFound/             # 404 error page
        â””â”€â”€ NotFound.tsx
```

**Student Routes**:

| Route | Component | Auth Required | Description |
|-------|-----------|---------------|-------------|
| `/` | LandingPage | No | Public landing page |
| `/auth/login` | Login | No | Student login |
| `/auth/register` | Register | No | Student registration |
| `/auth/verify-otp` | VerifyOtp | No | OTP verification |
| `/auth/forgot-password` | ForgotPassword | No | Password reset request |
| `/auth/reset-password` | ResetPassword | No | Password reset form |
| `/student/dashboard` | Dashboard | Yes | Student dashboard |
| `/student/profile` | Profile | Yes | Profile management |
| `/student/grades` | GradesList | Public/Auth | Grade browsing |
| `/student/lessons` | LessonsList | Yes | Course lessons |
| `/student/lesson/:id` | LessonPage | Yes | Lesson viewer |
| `/student/saved-lessons` | SavedLessons | Yes | Saved lessons |
| `/student/subscribe` | Subscribe | Yes | Subscription page |
| `/student/subscription/waiting-confirmation` | WaitingConfirmation | Yes | Subscription pending |

---

### Admin Application (`/apps/admin/`)

**Entry Point**: `AdminApp.tsx`  
**Router**: `adminRouter.tsx`

```
admin/
â”œâ”€â”€ AdminApp.tsx              # Admin app root component
â”œâ”€â”€ adminRouter.tsx           # Admin routes configuration
â”œâ”€â”€ components/               # Admin-specific components
â”‚   â””â”€â”€ AdminSidebar.tsx      # Admin navigation sidebar
â”œâ”€â”€ layouts/                  # Admin layouts
â”‚   â””â”€â”€ AdminLayout.tsx       # Main admin layout
â””â”€â”€ pages/                    # Admin page components
    â”œâ”€â”€ auth/                 # Admin authentication
    â”‚   â””â”€â”€ Login.tsx
    â”œâ”€â”€ Dashboard/            # Admin dashboard
    â”‚   â””â”€â”€ Dashboard.tsx
    â”œâ”€â”€ students/             # Student management
    â”‚   â”œâ”€â”€ Students.tsx      # Student listing
    â”‚   â””â”€â”€ StudentDetails.tsx # Student details view
    â””â”€â”€ DeletedItems/         # Soft-deleted items management
        â””â”€â”€ DeletedItems.tsx
```

**Admin Routes**:

| Route | Component | Auth Required | Description |
|-------|-----------|---------------|-------------|
| `/admin/login` | Login | No | Admin login |
| `/admin/dashboard` | Dashboard | Yes | Admin dashboard |
| `/admin/students` | Students | Yes | Student management |
| `/admin/students/:id` | StudentDetails | Yes | Student detail view |
| `/admin/deleted-items` | DeletedItems | Yes | Manage soft-deleted items |

---

## ğŸ¨ Components Directory (`/src/components/`)

Shared, reusable UI components used across both applications.

```
components/
â”œâ”€â”€ layout/                   # Layout components
â”‚   â”œâ”€â”€ Header.tsx            # App header
â”‚   â”œâ”€â”€ Footer.tsx            # App footer
â”‚   â”œâ”€â”€ Sidebar.tsx           # Generic sidebar
â”‚   â””â”€â”€ ...
â””â”€â”€ ui/                       # UI primitives (Shadcn components)
    â”œâ”€â”€ button.tsx            # Button component
    â”œâ”€â”€ input.tsx             # Input component
    â”œâ”€â”€ dialog.tsx            # Dialog/Modal component
    â”œâ”€â”€ select.tsx            # Select dropdown
    â”œâ”€â”€ alert-dialog.tsx      # Alert dialog
    â”œâ”€â”€ tooltip.tsx           # Tooltip component
    â”œâ”€â”€ badge.tsx             # Badge component
    â”œâ”€â”€ skeleton.tsx          # Loading skeleton
    â””â”€â”€ ...
```

**Design System**: Based on **Shadcn UI** with Radix UI primitives and Tailwind CSS styling.

---

## âš¡ Features Directory (`/src/features/`)

Domain-driven feature modules containing business logic, API calls, and feature-specific components.

```
features/
â”œâ”€â”€ Auth/                     # Authentication & authorization
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ auth.api.ts       # Auth API endpoints
â”‚   â”‚   â””â”€â”€ profile.api.ts    # Profile API endpoints
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ LoginForm/
â”‚   â”‚   â”œâ”€â”€ RegisterForm/
â”‚   â”‚   â”œâ”€â”€ OtpForm/
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ useAuth.tsx       # Auth hook
â”‚   â”‚   â”œâ”€â”€ useLogin.tsx      # Login logic
â”‚   â”‚   â””â”€â”€ useRegister.tsx   # Registration logic
â”‚   â”œâ”€â”€ store/
â”‚   â”‚   â”œâ”€â”€ studentAuth.slice.ts
â”‚   â”‚   â”œâ”€â”€ adminAuth.slice.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ types.ts              # Auth-related types
â”‚   â””â”€â”€ index.ts              # Public exports
â”‚
â”œâ”€â”€ courses/                  # Course management
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â””â”€â”€ courses.api.ts
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â””â”€â”€ CourseCard.tsx
â”‚   â”œâ”€â”€ types.ts
â”‚   â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ grades/                   # Grade/level management
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â””â”€â”€ grades.api.ts
â”‚   â”œâ”€â”€ types.ts
â”‚   â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ Lessons/                  # Lesson content management
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ lessons.api.ts
â”‚   â”‚   â””â”€â”€ savedLessons.api.ts
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ LessonContent/
â”‚   â”‚   â”œâ”€â”€ LessonViewer/
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ useLessons.tsx
â”‚   â”‚   â””â”€â”€ useSavedLessons.tsx
â”‚   â”œâ”€â”€ types.ts
â”‚   â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ user/                     # User management
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â””â”€â”€ admin-users.api.ts
â”‚   â”œâ”€â”€ types.ts
â”‚   â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ Subscription/             # Subscription management
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â””â”€â”€ subscription.api.ts
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ SubscriptionForm/
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â””â”€â”€ useSubscription.tsx
â”‚   â”œâ”€â”€ types.ts
â”‚   â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ Dashboard/                # Dashboard widgets
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ StatsCard/
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ types.ts
â”‚   â””â”€â”€ index.ts
â”‚
â””â”€â”€ promo-codes/              # Promo code functionality
    â””â”€â”€ types.ts
```

### Feature Module Pattern

Each feature follows a consistent structure:

```
[FeatureName]/
â”œâ”€â”€ api/                      # API service calls (Pure functions)
â”‚   â””â”€â”€ [feature].api.ts
â”œâ”€â”€ queries/                  # React Query Hooks (The Public Interface)
â”‚   â”œâ”€â”€ use[Feature]Query.tsx
â”‚   â””â”€â”€ use[Feature]Mutation.tsx
â”œâ”€â”€ components/               # Feature-specific UI
â”‚   â””â”€â”€ [Component]/
â”œâ”€â”€ hooks/                    # Feature behavior hooks (non-data fetching)
â”‚   â””â”€â”€ use[Feature]Logic.tsx
â”œâ”€â”€ store/                    # Redux slice (Strictly for client state)
â”‚   â””â”€â”€ [feature].slice.ts
â”œâ”€â”€ types.ts                  # TypeScript interfaces
â””â”€â”€ index.ts                  # Public exports
```

---

## ğŸ”Œ API Integration Patterns

### Hybrid Architecture

The project uses a **Hybrid Approach** for API organization, balancing modularity with convenience.

1.  **Source of Truth (Feature-Based)**: 
    Actual API implementations live inside their respective feature folders.
    `src/features/[Feature]/api/[feature].api.ts`

2.  **Convenience Layer (Global)**:
    A centralized barrel file re-exports all APIs for easy access.
    `src/api/index.ts`

### How to Import

You have two options when importing APIs:

**Option A: Global Import (Convenience)**
Best for pages or components that need data from multiple features.
```typescript
import { studentAuthApi, gradesApi } from '@/api';
```

**Option B: Feature Import (Direct)**
Best for strict modularity or when working within the feature itself.
```typescript
import * as studentAuthApi from '@/features/Auth/api/student-auth.api';
```

### HTTP Client Configuration

**Location**: `/src/lib/http-client.ts`

The application uses a custom Axios wrapper with:
- Automatic token injection
- Request/response interceptors
- Error handling middleware
- Base URL configuration

**Example API Call**:

```typescript
// features/Auth/api/auth.api.ts
import { httpClient } from '@/lib/http-client';

export const login = async (credentials: LoginCredentials) => {
  const { data } = await httpClient.post('/auth/login', credentials);
  return data;
};
```

### API Module Structure

Each feature's `api/` folder contains:
- Type-safe API functions
- Request/response type definitions
- Error handling

**Naming Convention**: `[feature].api.ts`

---

## ğŸ—„ï¸ State Management

### Redux Store Configuration

**Location**: `/src/store/index.ts`

```typescript
store = {
  studentAuth: studentAuthReducer,  // Student authentication state
  adminAuth: adminAuthReducer,      // Admin authentication state
}
```

**Middleware**:
- `studentAuthPersistenceMiddleware`: Persists student auth to localStorage
- `adminAuthPersistenceMiddleware`: Persists admin auth to localStorage

### State Management Strategy

| State Type | Solution | Use Case | RULES |
|------------|----------|----------|-------|
| **Server State** | **React Query** | API data, caching, revalidation | âœ… **MANDATORY** for all API data |
| **Global Client State** | **Redux Toolkit** | Auth token, User session | âœ… Use sparingly for widely shared data |
| **Feature State** | **Zustand** | Complex local feature logic | âš ï¸ Optional, prefer local state |
| **UI State** | **useState / useReducer** | Form inputs, toggles, modals | âœ… Default for component-local state |

### Custom Hooks

**Location**: `/src/store/hooks.ts`

```typescript
export const useAppDispatch = () => useDispatch<AppDispatch>();
export const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;
```

---

## ğŸ§­ Routing Architecture

### Route Guards

**Location**: `/src/app/guards/`

| Guard | Purpose |
|-------|---------|
| `StudentAuthGuard.tsx` | Protects student routes, redirects to login if unauthenticated |
| `AdminAuthGuard.tsx` | Protects admin routes, validates admin role |

### Routing Pattern

```typescript
// studentRouter.tsx
<Routes>
  {/* Public Routes */}
  <Route element={<PublicLayout />}>
    <Route path="/" element={<LandingPage />} />
    {/* ... */}
  </Route>

  {/* Protected Routes */}
  <Route path="/student" element={<StudentAuthGuard><StudentLayout /></StudentAuthGuard>}>
    <Route path="dashboard" element={<Dashboard />} />
    {/* ... */}
  </Route>
</Routes>
```

---

## ğŸŒ Internationalization (i18n)

### Configuration

**Location**: `/src/i18n.ts`

**Supported Languages**:
- English (en)
- Arabic (ar)

**Translation Files**:
- `/src/locales/en.json`
- `/src/locales/ar.json`

### Usage

```typescript
import { useTranslation } from 'react-i18next';

const Component = () => {
  const { t, i18n } = useTranslation();
  
  return (
    <div>
      <h1>{t('welcome.title')}</h1>
      <button onClick={() => i18n.changeLanguage('ar')}>
        {t('switchLanguage')}
      </button>
    </div>
  );
};
```

---

## ğŸ¨ Styling & Design System

### Tailwind Configuration

**Location**: `tailwind.config.js`

**Custom Theme Variables**: Defined in `/src/styles/globals.css`

```css
:root {
  --primary: ...;
  --secondary: ...;
  --soft-sage: rgb(114, 155, 119);
  /* ... */
}
```

### Component Styling

- **Base**: Tailwind utility classes
- **Components**: Shadcn UI with CVA (Class Variance Authority)
- **Animations**: Framer Motion for complex interactions

---

## ğŸ“˜ Development Guidelines

### How to Add New Elements

#### 1ï¸âƒ£ Adding a New Page

##### Student Page

1. **Create Component**: `src/apps/student/pages/[PageName]/index.tsx`
2. **Register Route**: Update `src/apps/student/studentRouter.tsx`

```typescript
import MyPage from './pages/MyPage';

// Inside <Route path="/student" ...>
<Route path="my-page" element={<MyPage />} />
```

3. **Result URL**: `http://localhost:3000/student/my-page`

##### Admin Page

1. **Create Component**: `src/apps/admin/pages/[PageName]/[PageName].tsx`
2. **Register Route**: Update `src/apps/admin/adminRouter.tsx`

```typescript
import MyAdminPage from './pages/MyAdminPage';

// Inside <Route path="/admin" ...>
<Route path="my-admin-page" element={<MyAdminPage />} />
```

3. **Result URL**: `http://localhost:3000/admin/my-admin-page`

---

#### 2ï¸âƒ£ Adding a New Component

**Decision Tree**:

```
Is it used across multiple apps/features?
â”œâ”€ YES â†’ src/components/
â”‚
â””â”€ NO â†’ Is it feature-specific?
    â”œâ”€ YES â†’ src/features/[Feature]/components/
    â”‚
    â””â”€ NO â†’ Is it app-specific?
        â”œâ”€ Student â†’ src/apps/student/components/
        â””â”€ Admin â†’ src/apps/admin/components/
```

**Example**: Creating a `GradeCard` component

```bash
# Feature-specific component
src/features/grades/components/GradeCard.tsx
```

---

#### 3ï¸âƒ£ Adding a New Feature Module

1. **Create Structure**:

```bash
src/features/[NewFeature]/
â”œâ”€â”€ api/                      # (Internal) API definitions
â”‚   â””â”€â”€ [feature].api.ts
â”œâ”€â”€ queries/                  # (Public) React Query hooks
â”‚   â”œâ”€â”€ use[Feature]Query.ts
â”‚   â””â”€â”€ use[Feature]Mutation.ts
â”œâ”€â”€ components/               # Components
â”‚   â””â”€â”€ [Component]/
â”œâ”€â”€ hooks/                    # Logic hooks
â”‚   â””â”€â”€ use[Feature].tsx
â”œâ”€â”€ store/                    # Global client state only
â”‚   â””â”€â”€ [feature].slice.ts
â”œâ”€â”€ types.ts
â””â”€â”€ index.ts
```

2. **Define API**:

```typescript
// api/[feature].api.ts
import { httpClient } from '@/lib/http-client';

export const getSomething = async () => {
  const { data } = await httpClient.get('/endpoint');
  return data;
};
```

3. **Create Types**:

```typescript
// types.ts
export interface Something {
  id: string;
  name: string;
}
```

4. **Export Publicly**:

```typescript
// index.ts
export * from './api/[feature].api';
export * from './components/[Component]';
export * from './hooks/use[Feature]';
export type * from './types';
```

5. **(Optional) Add Redux Slice**:

```typescript
// store/[feature].slice.ts
import { createSlice } from '@reduxjs/toolkit';

const featureSlice = createSlice({
  name: 'feature',
  initialState: {},
  reducers: {},
});

export const featureReducer = featureSlice.reducer;
```

6. **Register in Store**:

```typescript
// src/store/index.ts
import { featureReducer } from '@/features/[Feature]/store';

export const store = configureStore({
  reducer: {
    // ...
    feature: featureReducer,
  },
});
```

---

#### 4ï¸âƒ£ Adding Data Fetching (The React Query Way)

1.  **Define API Function** (`src/features/[Feature]/api/`):
    - Create the raw axios call.

2.  **Create Query Hook** (`src/features/[Feature]/queries/`):
    - Wrap the API call in `useQuery` or `useMutation`.

3.  **Consume in Component**:
    - Use the hook, handle `isLoading` and `error` states.

**Example**:

```typescript
// 1. API (internal)
// features/Courses/api/courses.api.ts
export const getCourses = async () => { ... }

// 2. Query Hook (public)
// features/Courses/queries/useCoursesQuery.ts
export const useCoursesQuery = () => {
return useQuery({
queryKey: ['courses'],
queryFn: getCourses
});
}

// 3. Component
// features/Courses/components/CourseList.tsx
const { data, isLoading } = useCoursesQuery();
```

---

#### 5ï¸âƒ£ Adding an API Call (Legacy / Low-Level)

1. **Navigate to**: `src/features/[Feature]/api/`
2. **Create/Edit**: `[feature].api.ts`
3. **Implement**:

```typescript
import { httpClient } from '@/lib/http-client';

export const fetchData = async (params: Params) => {
  const { data } = await httpClient.get('/endpoint', { params });
  return data;
};

export const createData = async (payload: CreatePayload) => {
  const { data } = await httpClient.post('/endpoint', payload);
  return data;
};
```

---

#### 5ï¸âƒ£ Adding a Custom Hook

**Location Decision**:
- **Global Logic**: `src/hooks/` (e.g., `useWindowSize`, `useDebounce`)
- **Feature Logic**: `src/features/[Feature]/hooks/` (e.g., `useGrades`, `useCourseProgress`)

**Example**:

```typescript
// src/features/Auth/hooks/useAuth.tsx
import { useAppSelector } from '@/store/hooks';

export const useAuth = () => {
  const { user, token } = useAppSelector((state) => state.studentAuth);
  
  return {
    isAuthenticated: !!token,
    user,
  };
};
```

---

#### 6ï¸âƒ£ Adding Localization Keys

1. **Open**:
   - `src/locales/en.json`
   - `src/locales/ar.json`

2. **Add Key-Value Pairs**:

```json
// en.json
{
  "myFeature": {
    "title": "My Feature Title",
    "description": "Feature description"
  }
}

// ar.json
{
  "myFeature": {
    "title": "Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…ÙŠØ²Ø©",
    "description": "ÙˆØµÙ Ø§Ù„Ù…ÙŠØ²Ø©"
  }
}
```

3. **Use in Component**:

```typescript
const { t } = useTranslation();
<h1>{t('myFeature.title')}</h1>
```

---

#### 7ï¸âƒ£ Adding Shared UI Component (Shadcn)

1. **Check**: `components.json` for Shadcn config
2. **Install Component**: (if using CLI)

```bash
npx shadcn-ui@latest add [component-name]
```

3. **Location**: Components added to `src/components/ui/`

4. **Customize**: Modify styling in component file using Tailwind classes

---

### Code Style Guidelines

#### TypeScript Best Practices

âœ… **Do**:
- Use explicit types for function parameters and returns
- Define interfaces/types in `types.ts` files
- Use type imports: `import type { User } from './types'`

âŒ **Don't**:
- Use `any` type
- Ignore TypeScript errors with `@ts-ignore` without comments

#### Component Structure

```typescript
// Imports
import React from 'react';
import { useTranslation } from 'react-i18next';

// Types
interface MyComponentProps {
  title: string;
  onAction: () => void;
}

// Component
export const MyComponent: React.FC<MyComponentProps> = ({ title, onAction }) => {
  const { t } = useTranslation();
  
  return (
    <div>
      <h1>{title}</h1>
      <button onClick={onAction}>{t('action')}</button>
    </div>
  );
};
```

#### File Naming Conventions

| File Type | Convention | Example |
|-----------|-----------|---------|
| **Component** | PascalCase | `GradeCard.tsx` |
| **Hook** | camelCase with `use` prefix | `useAuth.tsx` |
| **API** | camelCase with `.api` suffix | `grades.api.ts` |
| **Type** | PascalCase interface/type | `types.ts` |
| **Store** | camelCase with `.slice` suffix | `auth.slice.ts` |
| **Util** | camelCase | `userUtils.ts` |

---

## ğŸ¯ Common Patterns & Best Practices

### Authentication Flow

```typescript
// 1. Login
const { data } = await login(credentials);
dispatch(setCredentials(data)); // Stores token + user

// 2. Protected Route Access
<StudentAuthGuard> â† Checks for token
  <StudentLayout />
</StudentAuthGuard>

// 3. API Calls with Auth
httpClient.get('/user') // Automatically includes token in header
```

### Error Handling

```typescript
try {
  const data = await apiCall();
  toast.success('Success message');
} catch (error) {
  toast.error(error.response?.data?.message || 'An error occurred');
}
```

### Form Validation

- **Simple Forms**: Use controlled components with local state
- **Complex Forms**: Consider React Hook Form (not yet implemented)

---

## ğŸš€ Running the Application

### Development Mode

```bash
npm run dev
```

**Vite Dev Server**: `http://localhost:5173` (or configured port)

### Build for Production

```bash
npm run build
```

**Output**: `dist/` folder

### Preview Production Build

```bash
npm run preview
```

---

## ğŸ“¦ Build & Deployment

### Environment Variables

**Location**: `.env`

Key variables (examples):
```env
VITE_API_BASE_URL=http://localhost:3000
# Add other env vars as needed
```

**Access in Code**:
```typescript
const apiUrl = import.meta.env.VITE_API_BASE_URL;
```

---

## ğŸ” Key Files Reference

| File | Purpose |
|------|---------|
| `src/App.tsx` | Root application component |
| `src/main.tsx` | Application entry point |
| `src/store/index.ts` | Redux store configuration |
| `src/lib/http-client.ts` | Axios HTTP client setup |
| `src/i18n.ts` | i18n configuration |
| `src/styles/globals.css` | Global styles & Tailwind directives |
| `vite.config.ts` | Vite build configuration |
| `tsconfig.json` | TypeScript configuration |
| `tailwind.config.js` | Tailwind CSS configuration |

---

## ğŸ“š Additional Resources

### Existing Features

#### Student Features
- âœ… Authentication (Login, Register, OTP, Password Reset)
- âœ… Landing Page with grade browsing
- âœ… Dashboard
- âœ… Profile Management with grade selection
- âœ… Grade & Course browsing
- âœ… Lesson viewing
- âœ… Saved Lessons
- âœ… Subscription management
- âœ… Waiting confirmation workflow

#### Admin Features
- âœ… Admin authentication
- âœ… Dashboard
- âœ… Student management (list, view details)
- âœ… Soft-delete management (DeletedItems)
- âœ… Pagination support

### UI Enhancements
- âœ… Framer Motion animations on landing/grades pages
- âœ… Skeleton loading states
- âœ… RTL/LTR language support
- âœ… Shadcn UI components integration
- âœ… Toast notifications

---

## ğŸ¨ Design Philosophy

### Modern UI Principles

1. **Premium Aesthetics**: Glassmorphism, gradients, smooth animations
2. **Responsive Design**: Mobile-first approach
3. **Accessibility**: Radix UI primitives for ARIA compliance
4. **Performance**: Optimized animations with Framer Motion
5. **Consistency**: Shared design tokens via Tailwind config

---

## ğŸ“ Notes for Developers

### Before Starting Work

1. Review this document to understand the architecture
2. Check existing features to avoid duplication
3. Follow the established patterns for consistency
4. Use TypeScript strictlyâ€”no `any` types
5. Add translations for all user-facing text

### When Building New Features

1. **Plan First**: Determine if it's a new feature module or extends existing
2. **Follow Structure**: Use the feature module pattern
3. **Type Everything**: Define types in `types.ts`
4. **Export Cleanly**: Use `index.ts` for public API
5. **Test Manually**: Verify both desktop and mobile views
6. **i18n**: Add translations in both `en.json` and `ar.json`

### Code Review Checklist

- [ ] TypeScript types defined properly
- [ ] No `any` types (unless absolutely necessary with comment)
- [ ] Component properly located (app/feature/shared)
- [ ] Translations added for en/ar
- [ ] Code follows established patterns
- [ ] No hardcoded strings in UI
- [ ] Responsive design tested
- [ ] Error handling implemented

---

**End of Documentation**

*For questions or clarifications, refer to recent conversation history or consult with the development team.*